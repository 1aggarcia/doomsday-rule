<!DOCTYPE html>
<html lang="en">
<head>
		<title>The Doomsday Rule</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<link rel="stylesheet" href="lib/style.css"/>
		<link rel="shortcut icon" href="http://www.iconj.com/ico/f/a/fa2vo811im.ico" type="image/x-icon" />
</head>
<body>

<ul>
		<li><a href="#genarator">Generator</a></li>
		<li><a href="#calculator">Calc</a></li>
		<li><a href="#ltd-calc">LTD Calc</a></li>
		<li><a href="#tutorial">Tutorial</a></li>
</ul>

<div style="padding:8px;margin-top:35px;"></div>

<div class="row">
<div id="genarator" class="column">
<h2>Generator</h2>
<p>Generates random dates between the two years entered below.
Default range is the past 400 years in order to make use of all century codes.</p>

<form action="javascript:loopDays()">
		Generate&nbsp;
		<input type="number" id="dates" min="1" max="20" value="5">
		&nbsp;dates between years<br>
		<input type="tel" id="start" class="input_year" maxlength="4" placeholder="Year" autocomplete="off" value="1600">
		&nbsp;and&nbsp;
		<input type="tel" id="end" class="input_year" maxlength="4" placeholder="Year" autocomplete="off" value="1999">
		<br><br>
		<!--<label for="dates">Number of Dates: </label>
		<input type="number" name="dates" id="dates" min="1" max="20" value="5"><br>-->
		<button>Generate Dates</button>
</form>
<br>
<div id="dList"></div>
</div>

<div id="calculator" class="column">
<h2>Calculator</h2>
<p>Calculates the day of the week of any date entered and breaks down the calculations.</p>

<form action="javascript:verifyDate()">
	<input type="tel" id="year" class="input_year" placeholder="Year" maxlength="4" autocomplete="off">
	<input type="tel" id="month" class="input_month" placeholder="Month" maxlength="2" autocomplete="off">
	<input type="tel" id="day" class="input_day" placeholder="Day" maxlength="2" autocomplete="off">
	<button id="submit">Calculate</button><br>
<br>
</form>
<br>
<div class="code">
<code>
    <p id="mathDate"></p>
    <br>
    <p id="mathDay"><p>
    <p id="mathCent"></p>
    <p id="mathLTD"></p>
    <br>
    <p id="mathDOW"></p>
</code>
</div>
</div>


<div id="ltd-calc" class="column">
<h2>Last-Two-Digits Offset</h2>
<p>Simply add the number of leap years (year / 4) to the year and subtract all factors of 7 from the sum. Use this tool to double check your math.<br><br>
To simplify the math for larger years, you can subtract all factors of 28, (28, 56 or 84) and use that as the year instead. 
This works because the calendar repeats every 28 years within the same century.</p>

<form action="javascript:getLtdOff()">
		<label for="ltd">Last Two Digits of Year: </label>
		<input id="ltd" type="number" min="0" max="99">
		<button>Get LTD Offset</button>
</form>
<br>
<div id="dList" class="code">
<code>
<p id="ltdOut1"></p><br>
<p id="ltdOut2"></p>
<p id="ltdOut3"></p>
<p id="ltdOut4"></p><br>
<p id="ltdOut5"></p>
</code>
</div>
</div>
</div>

<div id="tutorial" style="margin:5px;padding:10px;background-color:#ffffff;">
	<h2>Tutorial</h2>
	<p>
	We will use the date July 20, 1969 as an example. The formula for the day of the week of a date is x + y + z.</p>
		x = <a href="#link4a">Century offset</a><br>
	y = <a href="#link4b">LTD offset</a><br>
	z = <a href="#link4c">Day offset</a>
	<p>
	<br>
	<h3 id="link4a">Century offset:</h3>
	The Gregorian Calendar repeats every 400 years, so there are only four century offsets. Memorize these four and you can work out the century offset of any year outside of these bounds*.<br><br>
	1. 1700  = 0<br>2. 1800 = 5<br>3. 1900 = 3<br>4. 2000 = 2<br><br>
	Since 1969 is in the 1900s the century offset is 3. To get the century offset of any year outside this range, use the <i>n</i>th item of the list above, where <i>n</i> is the remainder of the first two digits divided by 4 (if remainder is 0 use 4 for <i>n</i>). Ex for 2100, <i>n</i> = 21 mod 4, so <i>n</i> = 1. 1st item of the list is 1700 = 0, so the century offset for 2100 is 0.<br><br>
		* The first day of the Gregorian calendar is Oct 15, 1582, so dates before then don't technically exist in our calendar. They instead exist in the Julian calendar, which is similar to ours, but flawed, so the days of the week don't line up.
	</p>
	<p>
	<br>
	<h3 id="link4b">LTD offset:</h3>
	The LTD (Last Two Digits) offset is determined using the last two digits of the year, as the name suggests. You determine the offset by adding the number of leaps years for the number of years of the last two digits (LTD / 4), and subtract all factors of 7 (modulus). For our example '69, by dividing 69 by 4 we see there are 17 leap years in 69 years, so we add the two to get 86 and modulo the result by 7, giving us 2.<br><br>
	Since the calendar repeats every 28 years within the same century, there is a shortcut which makes doing math on larger numbers easier. Simply subtract all factors of 28 (28, 56, 84) from the year and use that as the LTD instead. So for '69, we can subtract 56 from 69 and do the calculation with '13 instead.
	</p>
	<p>
	<br>
	<h3 id="link4c">Day offset:</h3>
	In every year, there are certain days in each month that fall on the same day of the week of a given year. The day of the week these dates fall is the doomsday of that year. The doomsdays are as follows:<br><br>
	Jan 3 (4 on leap years)<br>Feb 7 (1 on leap years)<br>Mar 7<br>Apr 4<br>May 2<br>Jun 6<br>Jul 4<br>Aug 1<br>Sep 5<br>Oct 3<br>Nov 7<br>Dec 5<br><br>
	For leap years (years divisible by 4 &amp; not divisible by 100, or years divisible by 400) you must add 1 to the doomsday in January and February. For doomsdays that are the 7th day of the month such as in February, you can substitute the 7 for a 0 when calculating to make it easier.<br><br>
	To get the day offset, mod the day of the month by 7 (divide the day by 7 and take the remainder), then subtract it from the doomsday of that month. So for July 20, we mod 20 by 7, giving us 6, then subtract that from July's doomsday, the 4th, resulting in 2.
	</p>
	<p>
	<br>
	<h3>Putting it all together:</h3>
	Now that we have determined the Century offset, LTD offset, and Day offset, all you have to do is add them and mod the result by 7. for July 20, 1969 we got x=3, y=2, and z=0. 3+2+2 = 0 (actually =7 but 7 mod 7 = 0), so July 20, 1969 is Sunday according to the day codes below:
	</p>
	<p>
	0 = Sunday<br>1 = Monday<br>2 = Tuesday<br>3 = Wednesday<br>4 = Thursday<br>5 = Friday<br>6 = Saturday
	</p>
</div>

<div style="margin:5px;padding:10px;background-color:#ffffff;">
<label for="format">Date Format:</label>
<select id="format">
		<option value="UK">DD MMM YYYY (20 Jun 1969)</option>
		<option value="ISO">YYYY-MM-DD (1969-06-20)</option>
		<option value="USnum">MM-DD-YYYY (06-26-1969)</option>
		<option value="UKnum">DD-MM-YYYY (26-06-1969)</option>
</select>
<div style="text-align:right;">vers 2022.0105</div>
</div>

<script src="lib/script.js"></script>
</body>
</html>
